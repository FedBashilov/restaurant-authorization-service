version: '1.0'

services:
    web.facade:
        image: auth_webfacade
        ports:
            - "5236:80"
        build: '../'
        environment:
            ConnectionStrings__DatabaseConnection: 'Data Source=auth_db; Initial Catalog=AuthorizationService; User ID=SA; Password=Adminadmin1@'
        depends_on:
            - db
        networks:
            - app_bridge_network
    db:
        image: "mcr.microsoft.com/mssql/server:2019-latest"
        container_name: auth_db
        environment:
            - ACCEPT_EULA=y
            - MSSQL_SA_PASSWORD=Adminadmin1@

        networks:
            - app_bridge_network
networks:
    appBridgeNetwork:
        driver: bridge
        name: app_bridge_network